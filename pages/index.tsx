import type { NextPage } from "next";
import Head from "next/head";
import { order, restock } from "../features/cake/cakeSlice";
import {
  order as orderIcecream,
  restock as restockIcecream,
} from "../features/icecream/icecreamSlice";
import type { RootState } from "../app/store";
import { useAppDispatch, useAppSelector } from "../app/hooks";
import Image from "next/image";
import { FaBars } from "react-icons/fa";
import { useState } from "react";

const selectValue = (state: RootState) => [
  state.cake.numberOfCakes,
  state.icecream.numberOfIcecreams,
];

const Home: NextPage = () => {
  const [numberOfCakes, numberOfIcecreams] = useAppSelector(selectValue);
  const dispatch = useAppDispatch();
  const [open, setOpen] = useState(false);

  const handleSideNavigationBar = () => {
    setOpen((prev) => !prev);
  };

  return (
    <div>
      <Head>
        <title>Progressivo</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className="h-screen bg-gray-700 text-gray-50 relative">
        <div className="flex items-center relative">
          {!open && (
            <span className="absolute left-4 p-4">
              <FaBars
                onClick={handleSideNavigationBar}
                className="cursor-pointer"
              />
            </span>
          )}
          <div className="grow">
            <h1 className="text-center text-2xl p-4">Progressivo</h1>
          </div>
        </div>
        {open && (
          <div
            className="w-full md:w-56 h-screen border absolute top-0"
            onClick={handleSideNavigationBar}
          >
            Projects
          </div>
        )}
      </main>
    </div>
  );
};

export default Home;
